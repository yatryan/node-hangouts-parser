<!doctype html>
<html>
	<head>
		<title>Charts</title>
		<link rel="stylesheet" href="css/main3.css" type="text/css">
    <link rel="stylesheet" href="bower_components/c3/c3.css" type="text/css">
		<script src="bower_components/jquery/dist/jquery.js"></script>
		<script src="//d3js.org/d3.v3.min.js" charset="utf-8"></script>
    <script src="bower_components/c3/c3.js" charset="utf-8"></script>
	</head>
	<body>

    <div id="chart" ></div>

<script>
	window.onload = function(){
		var chart = c3.generate({
			bindto: '#chart',
			data: {
				json: [
					{id: 1, name: "000", messages: [], months: [], years:[]},
					{id: 2, name: "100", messages: [], months: [], years:[]},
					{id: 3, name: "300", messages: [], months: [], years:[]},
					{id: 4, name: "400", messages: [], months: [], years:[]},
				],
				// url: 'json/output.json',

			},
			axis: {
				// x: {
				//   type: 'timeseries',
				//   tick: {
				//     format: '%Y'
				//   }
				// },
				y: {
					label: {
						text: 'Messages Sent',
						position: 'outer-middle'
					}
				}
			}
		});
	};



  // var margin = {top: 20, right: 20, bottom: 30, left: 50},
  //     width = 960 - margin.left - margin.right,
  //     height = 500 - margin.top - margin.bottom;
	//
  // var parseDate = d3.time.format("%Y").parse;
  // var color = d3.scale.category20();
	//
  // var x = d3.time
  //   .scale()
  //   .range([0, width]);
	//
  // var y = d3.scale
  //   .linear()
  //   .range([height, 0]);
	//
  // var xAxis = d3.svg.axis()
  //   .scale(x)
  //   .orient("bottom");
	//
  // var yAxis = d3.svg.axis()
  //   .scale(y)
  //   .orient("left");
	//
  // var line = d3.svg.line()
  //   .x(function(d) {
  //     console.log('line x', d);
  //     return x(d.date);
  //   })
  //   .y(function(d) {
  //     // console.log('line y',d);
  //     return y(d.count);
  //   });
	//
  // var data, labels;
	//
  // var svg = d3.select("body").append("svg")
  //   .attr("width", width + margin.left + margin.right)
  //   .attr("height", height + margin.top + margin.bottom)
  //   .append("g")
  //   .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
	//
  // d3.json("json/output.json", function(error, json) {
  //   if (error) {
  //     throw error;
  //   }
	//
  //   color.domain(json.map(function(p) {
  //     return p.name;
  //   }));
	//
  //   var data = color.domain().map(function(name) {
  //     var years = json[color.domain().indexOf(name)].years;
  //     return {
  //       name: name,
  //       values: years.map(function(d) {
  //         return { date: parseDate(d.name), count: d.messages.length};
  //       })
  //     };
  //   });
	//
  //   // console.log(color.domain());
  //   console.log(data);
	//
  //   // x.domain(d3.extent(data, function(d) { return d.date; }));
  //   x.domain([
  //     d3.min(json, function(p) {
  //       return d3.min(p.years, function(v) {
  //         return v.date;
  //       });
  //     }),
  //     d3.max(json, function(p) {
  //       return d3.min(p.years, function(v) {
  //         return v.date;
  //       });
  //     })
  //   ]);
	//
  //   y.domain([
  //     d3.min(data, function(p) {
  //       return d3.min(p.values, function(v) {
  //         return v.count;
  //       });
  //     }),
  //     d3.max(data, function(p) {
  //       return d3.max(p.values, function(v) {
  //         return v.count;
  //       });
  //     })
  //   ]);
	//
  //   svg.append("g")
  //     .attr("class", "x axis")
  //     .attr("transform", "translate(0," + height + ")")
  //     .call(xAxis)
  //     .append("text")
  //     .attr("x", 870)
  //     .attr("y", -8)
  //     .style("text-anchor", "end")
  //     .text("Year");
	//
  //   svg.append("g")
  //     .attr("class", "y axis")
  //     .call(yAxis)
  //     .append("text")
  //     .attr("transform", "rotate(-90)")
  //     .attr("y", 6)
  //     .attr("dy", ".71em")
  //     .style("text-anchor", "end")
  //     .text("Messages Sent");
	//
  //   var person = svg.selectAll(".person")
  //     .data(data)
  //     .enter().append("g")
  //     .attr("class", "person");
	//
  //   person.append("path")
  //     .attr("class", "line")
  //     .attr("d", function(d) {
  //       console.log(line(d.values));
  //       return line(d.values);
  //     })
  //     .style("stroke", function(d) {
  //       return color(d.name);
  //     });
	//
  //   // person.append("text")
  //   //   .datum(function(d) { return {name: d.name, value: d.values[d.values.length - 1]}; })
  //   //   .attr("transform", function(d) { return "translate(" + x(d.value.date) + "," + y(d.value.temperature) + ")"; })
  //   //   .attr("x", 3)
  //   //   .attr("dy", ".35em")
  //   //   .text(function(d) { return d.name; });
	//
  //   // svg.append("path")
  //   //   .data(data)
  //   //   .attr("class", "line")
  //   //   .attr("d", line);
  // });
	</script>
	</body>
</html>
