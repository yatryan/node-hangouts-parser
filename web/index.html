<!doctype html>
<html>
	<head>
		<title>Charts</title>
		<link rel="stylesheet" href="bower_components/chartist/dist/chartist.min.css">
		<link rel="stylesheet" href="css/main.css" type="text/css">
		<script src="bower_components/jquery/dist/jquery.js"></script>
		<script src="bower_components/chartist/dist/chartist.js"></script>
		<script src="bower_components/chartist-plugin-legend/chartist-plugin-legend.js"></script>
	</head>
	<body>

		<div class="chart" style="width: 70%">
			<div class="ct-chart ct-perfect-fourth">
			</div>
		</div>
		<div class="chart" style="width: 70%">
			<div class="ct-chart2 ct-perfect-fourth">
			</div>
		</div>
		<div class="chart" style="width: 70%">
			<div class="ct-chart3 ct-perfect-fourth">
			</div>
		</div>
	<script>
	window.onload = function(){
		$.get( "json/months.json", function( data ) {
		  makeLineChart('.ct-chart',data);
		}, "json" );
		$.get( "json/years.json", function( data ) {
		  makeLineChart('.ct-chart2',data);
		}, "json" );
		$.get( "json/pie.json", function( data ) {
		  makePieChart('.ct-chart3',data);
		}, "json" );
	};

	function makeLineChart(name, data) {
		var chart = new Chartist.Line(name, {
		  labels: data._labels,
		  series: data._data
		}, {
		  fullWidth: true,
		  chartPadding: {
		    right: 10
		  },
			lineSmooth: Chartist.Interpolation.cardinal({
		    fillHoles: true,
		  }),
			showArea: true,
		  low: 0,
			plugins: []
		});

		// chart.on('draw', function(data) {
		//   if(data.type === 'line' || data.type === 'area') {
		//     data.element.animate({
		//       d: {
		//         begin: 2000 * data.index,
		//         dur: 2000,
		//         from: data.path.clone().scale(1, 0).translate(0, data.chartRect.height()).stringify(),
		//         to: data.path.clone().stringify(),
		//         easing: Chartist.Svg.Easing.easeOutQuint
		//       }
		//     });
		//   }
		// });
	}

	function makePieChart(name, data) {
		data.series = data._data;
		data.labels = data._people;

		var sum = function(a, b) { return a + b };

		var chart = new Chartist.Pie(name, data, {
	    labelDirection: 'explode',
	    labelInterpolationFnc: function(value) {
	      return value;
	    }
		});
	}
	</script>
	</body>
</html>
