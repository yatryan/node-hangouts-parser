<!doctype html>
<html>
	<head>
		<title>Charts</title>
		<link rel="stylesheet" href="css/main.css" type="text/css">
    <link rel="stylesheet" href="bower_components/c3/c3.css" type="text/css">
		<script src="bower_components/d3/d3.js" charset="utf-8"></script>
		<script src="bower_components/c3/c3.js" charset="utf-8"></script>

	</head>
	<body>

    <div id="years" ></div>
		<br>
		<div id="months" ></div>
		<br>
		<div id="days" ></div>
		<br>
		<div id="pie1" ></div>
		<br>
		<div id="time" ></div>

<script>
	window.onload = function(){
		var years = c3.generate({
			tooltip: {
				grouped: false // Default true
			},
			bindto: '#years',
			data: {
				x: 'x',
				url: 'api/years',
				mimeType: 'json'

			},
			legend: {
				hide: true
			},
			axis: {
				y: {
					label: {
						text: 'Messages Sent',
						position: 'outer-middle'
					}
				}
			}
		});
		var months = c3.generate({
			bindto: '#months',
			data: {
				type: 'area-spline',
				x: 'x',
				xFormat: '%m %Y', // 'xFormat' can be used as custom format of 'x'
				url: 'api/months',
				mimeType: 'json'
			},
			subchart: {
				show: true
			},
			tooltip: {
				grouped: false // Default true
			},
			legend: {
				hide: true
			},
			axis: {
				x: {
				  type: 'timeseries',
				  tick: {
						culling: false,
				    format: '%m %Y'
				  }
				},
				y: {
					label: {
						text: 'Messages Sent',
						position: 'outer-middle'
					}
				}
			}
		});

		var pie1 = c3.generate({
			tooltip: {
				grouped: false // Default true
			},
			bindto: '#pie1',
			legend: {
				hide: true
			},
			data: {
				x: 'x',
				url: 'api/years',
				mimeType: 'json',
				type: 'pie'
			}
		});

		var time = c3.generate({
			bindto: '#time',
			data: {
				url: 'api/timeofday',
				mimeType: 'json',
				type: 'bar'
			},
			axis: {
				x: {
					culling: false
				},
				y: {
					label: {
						text: 'Messages Sent',
						position: 'outer-middle'
					}
				}
			}
		});
	};
	</script>
	</body>
</html>
